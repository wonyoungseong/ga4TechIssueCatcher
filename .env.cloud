# GA4 Tech Issue Catcher - Cloud Supabase Configuration
# This file contains the original cloud Supabase configuration
# Use scripts/switch-to-cloud.sh to switch back to cloud environment

# ==============================================================================
# Supabase Configuration (CLOUD)
# ==============================================================================
SUPABASE_URL=https://vmezpiybidirjxkehwer.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtZXpwaXliaWRpcmp4a2Vod2VyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2OTUzMjYsImV4cCI6MjA3NzI3MTMyNn0.XRzkl3cBcOH1Or2rhEXQ7CVxyqp5SdIMaZcLK-lTAP8
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtZXpwaXliaWRpcmp4a2Vod2VyIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MTY5NTMyNiwiZXhwIjoyMDc3MjcxMzI2fQ.IdiLsO2u7a1LYXudSZxCXqBGrEPXta8DnpQSa8gke6o

# ==============================================================================
# CSV Configuration
# ==============================================================================
CSV_PATH=./src/ga4Property/Amore_GA4_PropertList.csv

# Browser Pool Configuration (High-Performance: 7 browsers)
BROWSER_POOL_SIZE=7

# Slack Configuration (Optional)
# Get webhook URL from: https://api.slack.com/apps
SLACK_WEBHOOK_URL=

# File Retention (Days)
RETENTION_DAYS=30

# Web Server Configuration
SERVER_PORT=3000

# Logging Configuration
LOG_LEVEL=info

# Performance Configuration
PAGE_TIMEOUT_MS=30000
NETWORK_WAIT_MS=10000

# GA4 Validation Timeouts (Queue-Based System)
GA4_TIMEOUT_MS=20000
GA4_SLOW_TIMEOUT_MS=60000

# ==============================================================================
# Data Lifecycle Management (TTL Configuration)
# ==============================================================================

# TTL for unsaved crawl runs (days)
# Crawl runs with is_saved=false will be deleted after this period
UNSAVED_CRAWL_TTL_DAYS=30

# TTL for screenshots (days)
# Screenshots not associated with saved runs will be deleted after this period
SCREENSHOT_TTL_DAYS=30

# Local temp cache for batch upload
LOCAL_BACKUP_ENABLED=true

# Cleanup batch size (records per batch)
CLEANUP_BATCH_SIZE=100

# Automatic cleanup schedule (cron expression) - MIGRATED TO DATABASE
# Settings now stored in cleanup_settings table (see supabase/migrations/003_add_cleanup_settings.sql)
# Use /api/cleanup/schedule endpoint to configure schedule
# CLEANUP_CRON=0 3 * * *  # DEPRECATED - DO NOT USE

# ==============================================================================
# Retry Queue Configuration (Story 10.3)
# ==============================================================================
# Enable/disable automatic retry queue processing
RETRY_QUEUE_ENABLED=true

# Retry queue processing schedule (cron expression)
# Default: */15 * * * * (every 15 minutes)
# Examples:
#   */15 * * * *  - Every 15 minutes
#   */30 * * * *  - Every 30 minutes
#   0 * * * *     - Every hour
#   0 */2 * * *   - Every 2 hours
RETRY_QUEUE_SCHEDULE=*/15 * * * *
